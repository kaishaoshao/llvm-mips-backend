<!DOCTYPE html><html lang="en" dir="ltr" data-theme="dark" data-has-toc data-has-sidebar class="astro-bguv2lll"> <head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Adding instructions | LLVM to MIPS</title><link rel="canonical"/><link rel="shortcut icon" href="/favicon.svg" type="image/svg+xml"/><meta name="generator" content="Astro v5.2.6"/><meta name="generator" content="Starlight v0.31.1"/><meta property="og:title" content="Adding instructions"/><meta property="og:type" content="article"/><meta property="og:url"/><meta property="og:locale" content="en"/><meta property="og:description" content="Adding instructions for the Nova target."/><meta property="og:site_name" content="LLVM to MIPS"/><meta name="twitter:card" content="summary_large_image"/><meta name="description" content="Adding instructions for the Nova target."/><script>
	window.StarlightThemeProvider = (() => {
		const storedTheme =
			typeof localStorage !== 'undefined' && localStorage.getItem('starlight-theme');
		const theme =
			storedTheme ||
			(window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark');
		document.documentElement.dataset.theme = theme === 'light' ? 'light' : 'dark';
		return {
			updatePickers(theme = storedTheme || 'auto') {
				document.querySelectorAll('starlight-theme-select').forEach((picker) => {
					const select = picker.querySelector('select');
					if (select) select.value = theme;
					/** @type {HTMLTemplateElement | null} */
					const tmpl = document.querySelector(`#theme-icons`);
					const newIcon = tmpl && tmpl.content.querySelector('.' + theme);
					if (newIcon) {
						const oldIcon = picker.querySelector('svg.label-icon');
						if (oldIcon) {
							oldIcon.replaceChildren(...newIcon.cloneNode(true).childNodes);
						}
					}
				});
			},
		};
	})();
</script><template id="theme-icons"><svg aria-hidden="true" class="light astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M5 12a1 1 0 0 0-1-1H3a1 1 0 0 0 0 2h1a1 1 0 0 0 1-1Zm.64 5-.71.71a1 1 0 0 0 0 1.41 1 1 0 0 0 1.41 0l.71-.71A1 1 0 0 0 5.64 17ZM12 5a1 1 0 0 0 1-1V3a1 1 0 0 0-2 0v1a1 1 0 0 0 1 1Zm5.66 2.34a1 1 0 0 0 .7-.29l.71-.71a1 1 0 1 0-1.41-1.41l-.66.71a1 1 0 0 0 0 1.41 1 1 0 0 0 .66.29Zm-12-.29a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.71-.71a1.004 1.004 0 1 0-1.43 1.41l.73.71ZM21 11h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2Zm-2.64 6A1 1 0 0 0 17 18.36l.71.71a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.76-.66ZM12 6.5a5.5 5.5 0 1 0 5.5 5.5A5.51 5.51 0 0 0 12 6.5Zm0 9a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7Zm0 3.5a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1a1 1 0 0 0-1-1Z"/></svg> <svg aria-hidden="true" class="dark astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.64 13a1 1 0 0 0-1.05-.14 8.049 8.049 0 0 1-3.37.73 8.15 8.15 0 0 1-8.14-8.1 8.59 8.59 0 0 1 .25-2A1 1 0 0 0 8 2.36a10.14 10.14 0 1 0 14 11.69 1 1 0 0 0-.36-1.05Zm-9.5 6.69A8.14 8.14 0 0 1 7.08 5.22v.27a10.15 10.15 0 0 0 10.14 10.14 9.784 9.784 0 0 0 2.1-.22 8.11 8.11 0 0 1-7.18 4.32v-.04Z"/></svg> <svg aria-hidden="true" class="auto astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg> </template><link rel="stylesheet" href="/_astro/print.BJ0teN4y.css" media="print"><link rel="stylesheet" href="/_astro/index.BdVUmuzS.css">
<style>:root{--sl-badge-default-border: var(--sl-color-accent);--sl-badge-default-bg: var(--sl-color-accent-low);--sl-badge-default-text: #fff;--sl-badge-note-border: var(--sl-color-blue);--sl-badge-note-bg: var(--sl-color-blue-low);--sl-badge-note-text: #fff;--sl-badge-danger-border: var(--sl-color-red);--sl-badge-danger-bg: var(--sl-color-red-low);--sl-badge-danger-text: #fff;--sl-badge-success-border: var(--sl-color-green);--sl-badge-success-bg: var(--sl-color-green-low);--sl-badge-success-text: #fff;--sl-badge-caution-border: var(--sl-color-orange);--sl-badge-caution-bg: var(--sl-color-orange-low);--sl-badge-caution-text: #fff;--sl-badge-tip-border: var(--sl-color-purple);--sl-badge-tip-bg: var(--sl-color-purple-low);--sl-badge-tip-text: #fff}[data-theme=light]:root{--sl-badge-default-bg: var(--sl-color-accent-high);--sl-badge-note-bg: var(--sl-color-blue-high);--sl-badge-danger-bg: var(--sl-color-red-high);--sl-badge-success-bg: var(--sl-color-green-high);--sl-badge-caution-bg: var(--sl-color-orange-high);--sl-badge-tip-bg: var(--sl-color-purple-high)}.sl-badge:where(.astro-avdet4wd){display:inline-block;border:1px solid var(--sl-color-border-badge);border-radius:.25rem;font-family:var(--sl-font-system-mono);line-height:normal;color:var(--sl-color-text-badge);background-color:var(--sl-color-bg-badge);overflow-wrap:anywhere}.sidebar-content .sl-badge:where(.astro-avdet4wd){line-height:1;font-size:var(--sl-text-xs);padding:.125rem .375rem}.sidebar-content a[aria-current=page]>.sl-badge:where(.astro-avdet4wd){--sl-color-bg-badge: transparent;--sl-color-border-badge: currentColor;color:inherit}.default:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-default-bg);--sl-color-border-badge: var(--sl-badge-default-border);--sl-color-text-badge: var(--sl-badge-default-text)}.note:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-note-bg);--sl-color-border-badge: var(--sl-badge-note-border);--sl-color-text-badge: var(--sl-badge-note-text)}.danger:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-danger-bg);--sl-color-border-badge: var(--sl-badge-danger-border);--sl-color-text-badge: var(--sl-badge-danger-text)}.success:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-success-bg);--sl-color-border-badge: var(--sl-badge-success-border);--sl-color-text-badge: var(--sl-badge-success-text)}.tip:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-tip-bg);--sl-color-border-badge: var(--sl-badge-tip-border);--sl-color-text-badge: var(--sl-badge-tip-text)}.caution:where(.astro-avdet4wd){--sl-color-bg-badge: var(--sl-badge-caution-bg);--sl-color-border-badge: var(--sl-badge-caution-border);--sl-color-text-badge: var(--sl-badge-caution-text)}.small:where(.astro-avdet4wd){font-size:var(--sl-text-xs);padding:.125rem .25rem}.medium:where(.astro-avdet4wd){font-size:var(--sl-text-sm);padding:.175rem .35rem}.large:where(.astro-avdet4wd){font-size:var(--sl-text-base);padding:.225rem .45rem}.sl-markdown-content :is(h1,h2,h3,h4,h5,h6) .sl-badge:where(.astro-avdet4wd){vertical-align:middle}
.card-grid:where(.astro-zntqmydn){display:grid;grid-template-columns:100%;gap:1rem}.card-grid:where(.astro-zntqmydn)>*{margin-top:0!important}@media (min-width: 50rem){.card-grid:where(.astro-zntqmydn){grid-template-columns:1fr 1fr;gap:1.5rem}.stagger:where(.astro-zntqmydn){--stagger-height: 5rem;padding-bottom:var(--stagger-height)}.stagger:where(.astro-zntqmydn)>*:nth-child(2n){transform:translateY(var(--stagger-height))}}
.card:where(.astro-v5tidmuc){--sl-card-border: var(--sl-color-purple);--sl-card-bg: var(--sl-color-purple-low);border:1px solid var(--sl-color-gray-5);background-color:var(--sl-color-black);padding:clamp(1rem,calc(.125rem + 3vw),2.5rem);flex-direction:column;gap:clamp(.5rem,calc(.125rem + 1vw),1rem)}.card:where(.astro-v5tidmuc):nth-child(4n+1){--sl-card-border: var(--sl-color-orange);--sl-card-bg: var(--sl-color-orange-low)}.card:where(.astro-v5tidmuc):nth-child(4n+3){--sl-card-border: var(--sl-color-green);--sl-card-bg: var(--sl-color-green-low)}.card:where(.astro-v5tidmuc):nth-child(4n+4){--sl-card-border: var(--sl-color-red);--sl-card-bg: var(--sl-color-red-low)}.card:where(.astro-v5tidmuc):nth-child(4n+5){--sl-card-border: var(--sl-color-blue);--sl-card-bg: var(--sl-color-blue-low)}.title:where(.astro-v5tidmuc){font-weight:600;font-size:var(--sl-text-h4);color:var(--sl-color-white);line-height:var(--sl-line-height-headings);gap:1rem;align-items:center}.card:where(.astro-v5tidmuc) .icon:where(.astro-v5tidmuc){border:1px solid var(--sl-card-border);background-color:var(--sl-card-bg);padding:.2em;border-radius:.25rem}.card:where(.astro-v5tidmuc) .body:where(.astro-v5tidmuc){margin:0;font-size:clamp(var(--sl-text-sm),calc(.5rem + 1vw),var(--sl-text-body))}
svg:where(.astro-c6vsoqas){color:var(--sl-icon-color);font-size:var(--sl-icon-size, 1em);width:1em;height:1em}
.sl-link-card:where(.astro-mf7fz2mj){display:grid;grid-template-columns:1fr auto;gap:.5rem;border:1px solid var(--sl-color-gray-5);border-radius:.5rem;padding:1rem;box-shadow:var(--sl-shadow-sm);position:relative}a:where(.astro-mf7fz2mj){text-decoration:none;line-height:var(--sl-line-height-headings)}a:where(.astro-mf7fz2mj):before{content:"";position:absolute;inset:0}.stack:where(.astro-mf7fz2mj){flex-direction:column;gap:.5rem}.title:where(.astro-mf7fz2mj){color:var(--sl-color-white);font-weight:600;font-size:var(--sl-text-lg)}.description:where(.astro-mf7fz2mj){color:var(--sl-color-gray-3);line-height:1.5}.icon:where(.astro-mf7fz2mj){color:var(--sl-color-gray-3)}.sl-link-card:where(.astro-mf7fz2mj):hover{background:var(--sl-color-gray-7, var(--sl-color-gray-6));border-color:var(--sl-color-gray-2)}.sl-link-card:where(.astro-mf7fz2mj):hover .icon:where(.astro-mf7fz2mj){color:var(--sl-color-white)}
.sl-steps{--bullet-size: calc(var(--sl-line-height) * 1rem);--bullet-margin: .375rem;list-style:none;counter-reset:steps-counter var(--sl-steps-start, 0);padding-inline-start:0}.sl-steps>li{counter-increment:steps-counter;position:relative;padding-inline-start:calc(var(--bullet-size) + 1rem);padding-bottom:1px;min-height:calc(var(--bullet-size) + var(--bullet-margin))}.sl-steps>li+li{margin-top:0}.sl-steps>li:before{content:counter(steps-counter);position:absolute;top:0;inset-inline-start:0;width:var(--bullet-size);height:var(--bullet-size);line-height:var(--bullet-size);font-size:var(--sl-text-xs);font-weight:600;text-align:center;color:var(--sl-color-white);background-color:var(--sl-color-gray-6);border-radius:99rem;box-shadow:inset 0 0 0 1px var(--sl-color-gray-5)}.sl-steps>li:after{--guide-width: 1px;content:"";position:absolute;top:calc(var(--bullet-size) + var(--bullet-margin));bottom:var(--bullet-margin);inset-inline-start:calc((var(--bullet-size) - var(--guide-width)) / 2);width:var(--guide-width);background-color:var(--sl-color-hairline-light)}.sl-steps>li>:first-child{--lh: calc(1em * var(--sl-line-height));--shift-y: calc(.5 * (var(--bullet-size) - var(--lh)));transform:translateY(var(--shift-y));margin-bottom:var(--shift-y)}.sl-steps>li>:first-child:where(h1,h2,h3,h4,h5,h6){--lh: calc(1em * var(--sl-line-height-headings))}@supports (--prop: 1lh){.sl-steps>li>:first-child{--lh: 1lh}}
.sl-link-button:where(.astro-xwgiixxa){align-items:center;border:1px solid transparent;border-radius:999rem;display:inline-flex;font-size:var(--sl-text-sm);gap:.5em;line-height:1.1875;outline-offset:.25rem;padding:.4375rem 1.125rem;text-decoration:none}.sl-link-button:where(.astro-xwgiixxa).primary{background:var(--sl-color-text-accent);border-color:var(--sl-color-text-accent);color:var(--sl-color-black)}.sl-link-button:where(.astro-xwgiixxa).primary:hover{color:var(--sl-color-black)}.sl-link-button:where(.astro-xwgiixxa).secondary{border-color:inherit;color:var(--sl-color-white)}.sl-link-button:where(.astro-xwgiixxa).minimal{color:var(--sl-color-white);padding-inline:0}.sl-link-button:where(.astro-xwgiixxa) svg{flex-shrink:0}@media (min-width: 50rem){.sl-link-button:where(.astro-xwgiixxa){font-size:var(--sl-text-base);padding:.9375rem 1.25rem}}.sl-markdown-content .sl-link-button:where(.astro-xwgiixxa){margin-inline-end:1rem}.sl-markdown-content .sl-link-button:where(.astro-xwgiixxa):not(:where(p *)){margin-block:1rem}
</style><script type="module" src="/_astro/page.7qqag-5g.js"></script><style>.code-snippet:where(.astro-xvlhowr4){display:flex;flex-direction:column;gap:0rem;*{margin:0!important}.context,.after-context{background-color:var(--sl-color-gray-6);padding:calc(var(--ec-uiPadBlk) + var(--ec-frm-edActTabIndHt)) var(--ec-uiPadInl);padding-left:calc(var(--ec-uiPadInl) - .6rem);font-family:var(--ec-codeFontFml);font-style:italic;font-size:calc(.97 * var(--ec-codeFontSize));white-space:pre-wrap;text-align:left}.after-context{display:flex;flex-direction:row;justify-content:space-between;align-items:center}@media screen and (max-width: 600px){.context{display:none}}}
</style><style>details:where(.astro-hbmamkfo).details{border:1px solid;border-radius:.5rem;margin-bottom:1rem;transition:background-color .2s ease}.details--note:where(.astro-hbmamkfo){background-color:#1e293b;border-color:#334155!important;color:#93c5fd}.details--tip:where(.astro-hbmamkfo){background-color:#14432a;border-color:#166534!important;color:#86efac}.details--warning:where(.astro-hbmamkfo){background-color:#422006;border-color:#854d0e!important;color:#fde047}.details--danger:where(.astro-hbmamkfo){background-color:#450a0a;border-color:#991b1b!important;color:#fca5a5}:root[data-theme=light] .details--note:where(.astro-hbmamkfo){background-color:#f0f7ff;border-color:#bfdbfe;color:#1e40af}:root[data-theme=light] .details--tip:where(.astro-hbmamkfo){background-color:#f0fdf4;border-color:#bbf7d0;color:#166534}:root[data-theme=light] .details--warning:where(.astro-hbmamkfo){background-color:#fefce8;border-color:#fef08a;color:#854d0e}:root[data-theme=light] .details--danger:where(.astro-hbmamkfo){background-color:#fef2f2;border-color:#fecaca;color:#991b1b}summary:where(.astro-hbmamkfo).details-summary{display:flex;flex-direction:row;align-items:center;gap:.5rem;margin:0!important;padding:.6rem .75rem;padding-left:0;cursor:pointer}.title:where(.astro-hbmamkfo){font-weight:500}.arrow:where(.astro-hbmamkfo){margin-left:auto}.details:where(.astro-hbmamkfo)[open] .arrow:where(.astro-hbmamkfo) svg:where(.astro-hbmamkfo){transform:rotate(180deg)}.arrow:where(.astro-hbmamkfo) svg:where(.astro-hbmamkfo){transition:transform .2s ease}.icon:where(.astro-hbmamkfo){display:flex;align-items:center}summary:where(.astro-hbmamkfo)::-webkit-details-marker{display:none}.content:where(.astro-hbmamkfo){overflow:hidden;transition:height .3s ease-out;padding:0 .75rem .75rem 0;margin-top:0!important;border-color:inherit}
</style></head> <body class="astro-bguv2lll"> <a href="#_top" class="astro-7q3lir66">Skip to content</a>  <div class="page sl-flex astro-vrdttmbt"> <header class="header astro-vrdttmbt"><div class="header sl-flex astro-kmkmnagf"> <div class="title-wrapper sl-flex astro-kmkmnagf"> <a href="/" class="site-title sl-flex astro-m46x6ez3">  <span class="astro-m46x6ez3" translate="no"> LLVM to MIPS </span> </a>  </div> <div class="sl-flex print:hidden astro-kmkmnagf"> <site-search class="astro-kmkmnagf astro-v37mnknz" data-translations="{&#34;placeholder&#34;:&#34;Search&#34;}"> <button data-open-modal disabled aria-label="Search" aria-keyshortcuts="Control+K" class="astro-v37mnknz"> <svg aria-hidden="true" class="astro-v37mnknz astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.71 20.29 18 16.61A9 9 0 1 0 16.61 18l3.68 3.68a.999.999 0 0 0 1.42 0 1 1 0 0 0 0-1.39ZM11 18a7 7 0 1 1 0-14 7 7 0 0 1 0 14Z"/></svg>  <span class="sl-hidden md:sl-block astro-v37mnknz" aria-hidden="true">Search</span> <kbd class="sl-hidden md:sl-flex astro-v37mnknz" style="display: none;"> <kbd class="astro-v37mnknz">Ctrl</kbd><kbd class="astro-v37mnknz">K</kbd> </kbd> </button> <dialog style="padding:0" aria-label="Search" class="astro-v37mnknz"> <div class="dialog-frame sl-flex astro-v37mnknz">  <button data-close-modal class="sl-flex md:sl-hidden astro-v37mnknz"> Cancel </button> <div class="search-container astro-v37mnknz"> <div id="starlight__search" class="astro-v37mnknz"></div> </div> </div> </dialog> </site-search>  <script>
	(() => {
		const openBtn = document.querySelector('button[data-open-modal]');
		const shortcut = openBtn?.querySelector('kbd');
		if (!openBtn || !(shortcut instanceof HTMLElement)) return;
		const platformKey = shortcut.querySelector('kbd');
		if (platformKey && /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)) {
			platformKey.textContent = '⌘';
			openBtn.setAttribute('aria-keyshortcuts', 'Meta+K');
		}
		shortcut.style.display = '';
	})();
</script> <script type="module" src="/_astro/Search.astro_astro_type_script_index_0_lang.18-vQxR-.js"></script>   </div> <div class="sl-hidden md:sl-flex print:hidden right-group astro-kmkmnagf"> <div class="sl-flex social-icons astro-kmkmnagf"> <a href="https://github.com/optimisan/llvm-mips-backend" rel="me" class="sl-flex astro-wy4te6ga"><span class="sr-only astro-wy4te6ga">GitHub</span><svg aria-hidden="true" class="astro-wy4te6ga astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"/></svg> </a> </div> <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-4yphtoen"> <span class="sr-only astro-4yphtoen">Select theme</span> <svg aria-hidden="true" class="icon label-icon astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg>  <select value="auto" autocomplete="off" class="astro-4yphtoen"> <option value="dark" class="astro-4yphtoen">Dark</option><option value="light" class="astro-4yphtoen">Light</option><option value="auto" selected class="astro-4yphtoen">Auto</option> </select> <svg aria-hidden="true" class="icon caret astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script> <script type="module">const r="starlight-theme",o=e=>e==="auto"||e==="dark"||e==="light"?e:"auto",c=()=>o(typeof localStorage<"u"&&localStorage.getItem(r));function n(e){typeof localStorage<"u"&&localStorage.setItem(r,e==="light"||e==="dark"?e:"")}const l=()=>matchMedia("(prefers-color-scheme: light)").matches?"light":"dark";function t(e){StarlightThemeProvider.updatePickers(e),document.documentElement.dataset.theme=e==="auto"?l():e,n(e)}matchMedia("(prefers-color-scheme: light)").addEventListener("change",()=>{c()==="auto"&&t("auto")});class s extends HTMLElement{constructor(){super(),t(c()),this.querySelector("select")?.addEventListener("change",a=>{a.currentTarget instanceof HTMLSelectElement&&t(o(a.currentTarget.value))})}}customElements.define("starlight-theme-select",s);</script> <script type="module">class s extends HTMLElement{constructor(){super();const e=this.querySelector("select");e&&(e.addEventListener("change",t=>{t.currentTarget instanceof HTMLSelectElement&&(window.location.pathname=t.currentTarget.value)}),window.addEventListener("pageshow",t=>{if(!t.persisted)return;const n=e.querySelector("option[selected]")?.index;n!==e.selectedIndex&&(e.selectedIndex=n??0)}))}}customElements.define("starlight-lang-select",s);</script> </div> </div> </header> <nav class="sidebar print:hidden astro-vrdttmbt" aria-label="Main"> <starlight-menu-button class="print:hidden astro-jif73yzw"> <button aria-expanded="false" aria-label="Menu" aria-controls="starlight__sidebar" class="sl-flex md:sl-hidden astro-jif73yzw"> <svg aria-hidden="true" class="astro-jif73yzw astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M3 8h18a1 1 0 1 0 0-2H3a1 1 0 0 0 0 2Zm18 8H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Zm0-5H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Z"/></svg>  </button> </starlight-menu-button> <script type="module">class s extends HTMLElement{constructor(){super(),this.btn=this.querySelector("button"),this.btn.addEventListener("click",()=>this.toggleExpanded());const t=this.closest("nav");t&&t.addEventListener("keyup",e=>this.closeOnEscape(e))}setExpanded(t){this.setAttribute("aria-expanded",String(t)),document.body.toggleAttribute("data-mobile-menu-expanded",t)}toggleExpanded(){this.setExpanded(this.getAttribute("aria-expanded")!=="true")}closeOnEscape(t){t.code==="Escape"&&(this.setExpanded(!1),this.btn.focus())}}customElements.define("starlight-menu-button",s);</script>   <div id="starlight__sidebar" class="sidebar-pane astro-vrdttmbt"> <div class="sidebar-content sl-flex astro-vrdttmbt"> <sl-sidebar-state-persist data-hash="0kiw0rl" class="astro-kku4brbg"> <script aria-hidden="true">
		(() => {
			try {
				if (!matchMedia('(min-width: 50em)').matches) return;
				/** @type {HTMLElement | null} */
				const target = document.querySelector('sl-sidebar-state-persist');
				const state = JSON.parse(sessionStorage.getItem('sl-sidebar-state') || '0');
				if (!target || !state || target.dataset.hash !== state.hash) return;
				window._starlightScrollRestore = state.scroll;
				customElements.define(
					'sl-sidebar-restore',
					class SidebarRestore extends HTMLElement {
						connectedCallback() {
							try {
								const idx = parseInt(this.dataset.index || '');
								const details = this.closest('details');
								if (details && typeof state.open[idx] === 'boolean') details.open = state.open[idx];
							} catch {}
						}
					}
				);
			} catch {}
		})();
	</script>  <ul class="top-level astro-3ii7xxms"> <li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <sl-sidebar-restore data-index="0"></sl-sidebar-restore> <summary class="astro-3ii7xxms"> <div class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Background</span>  </div> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/background/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">About this book</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/background/02-mips-architecture/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">The MipsNova Architecture</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/background/03-about-llvm/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">About LLVM</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/background/04-getting-started/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Getting Started</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/background/01-motivation/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Motivation for this project</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <sl-sidebar-restore data-index="1"></sl-sidebar-restore> <summary class="astro-3ii7xxms"> <div class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Section 1</span>  </div> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/section-1/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Section 1: Registering the target</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/section-1/01-triple/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">The Target Triple</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/section-1/02-registers/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Adding Registers</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/section-1/03-instructions/" aria-current="page" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">Adding instructions</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/section-1/testing/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">The testing part</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <sl-sidebar-restore data-index="2"></sl-sidebar-restore> <summary class="astro-3ii7xxms"> <div class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">Reference</span>  </div> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/reference/example/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">LLVM backend resources</span>  </a> </li><li class="astro-3ii7xxms"> <a href="/reference/mips-isa/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">MIPS 32 Architecture</span>  </a> </li> </ul>  </details> </li><li class="astro-3ii7xxms"> <details open class="astro-3ii7xxms"> <sl-sidebar-restore data-index="3"></sl-sidebar-restore> <summary class="astro-3ii7xxms"> <div class="group-label astro-3ii7xxms"> <span class="large astro-3ii7xxms">2. MIPS Architecture</span>  </div> <svg aria-hidden="true" class="caret astro-3ii7xxms astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.25rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </summary> <ul class="astro-3ii7xxms"> <li class="astro-3ii7xxms"> <a href="/mips-arch/introduction/" aria-current="false" class="astro-3ii7xxms"> <span class="astro-3ii7xxms">MIPS Architecture</span>  </a> </li> </ul>  </details> </li> </ul>   <script aria-hidden="true">
		(() => {
			const scroller = document.getElementById('starlight__sidebar');
			if (!window._starlightScrollRestore || !scroller) return;
			scroller.scrollTop = window._starlightScrollRestore;
			delete window._starlightScrollRestore;
		})();
	</script> </sl-sidebar-state-persist>  <div class="md:sl-hidden"> <div class="mobile-preferences sl-flex astro-wu23bvmt"> <div class="sl-flex social-icons astro-wu23bvmt"> <a href="https://github.com/optimisan/llvm-mips-backend" rel="me" class="sl-flex astro-wy4te6ga"><span class="sr-only astro-wy4te6ga">GitHub</span><svg aria-hidden="true" class="astro-wy4te6ga astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"/></svg> </a> </div> <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-4yphtoen"> <span class="sr-only astro-4yphtoen">Select theme</span> <svg aria-hidden="true" class="icon label-icon astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg>  <select value="auto" autocomplete="off" class="astro-4yphtoen"> <option value="dark" class="astro-4yphtoen">Dark</option><option value="light" class="astro-4yphtoen">Light</option><option value="auto" selected class="astro-4yphtoen">Auto</option> </select> <svg aria-hidden="true" class="icon caret astro-4yphtoen astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg>  </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script>   </div>  </div> </div> </div> </nav> <div class="main-frame astro-vrdttmbt">  <script type="module">const a=document.getElementById("starlight__sidebar"),n=a?.querySelector("sl-sidebar-state-persist"),o="sl-sidebar-state",i=()=>{let t=[];const e=n?.dataset.hash||"";try{const s=sessionStorage.getItem(o),r=JSON.parse(s||"{}");Array.isArray(r.open)&&r.hash===e&&(t=r.open)}catch{}return{hash:e,open:t,scroll:a?.scrollTop||0}},c=t=>{try{sessionStorage.setItem(o,JSON.stringify(t))}catch{}},d=()=>c(i()),l=(t,e)=>{const s=i();s.open[e]=t,c(s)};n?.addEventListener("click",t=>{if(!(t.target instanceof Element))return;const e=t.target.closest("summary")?.closest("details");if(!e)return;const s=e.querySelector("sl-sidebar-restore"),r=parseInt(s?.dataset.index||"");isNaN(r)||l(!e.open,r)});addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&d()});addEventListener("pageHide",d);</script> <div class="lg:sl-flex astro-67yu43on"> <aside class="right-sidebar-container print:hidden astro-67yu43on"> <div class="right-sidebar astro-67yu43on"> <div class="lg:sl-hidden astro-pb3aqygn"><mobile-starlight-toc data-min-h="2" data-max-h="3" class="astro-doynk5tl"><nav aria-labelledby="starlight__on-this-page--mobile" class="astro-doynk5tl"><details id="starlight__mobile-toc" class="astro-doynk5tl"><summary id="starlight__on-this-page--mobile" class="sl-flex astro-doynk5tl"><div class="toggle sl-flex astro-doynk5tl">On this page<svg aria-hidden="true" class="caret astro-doynk5tl astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg> </div><span class="display-current astro-doynk5tl"></span></summary><div class="dropdown astro-doynk5tl"><ul class="isMobile astro-g2bywc46" style="--depth: 0;"> <li class="astro-g2bywc46" style="--depth: 0;"> <a href="#_top" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Overview</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#jump-and-branch-instructions" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Jump and Branch Instructions</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#selectiondag" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">SelectionDAG</span> </a> <ul class="isMobile astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#calling-conventions" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Calling Conventions</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#subtarget" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Subtarget</span> </a>  </li> </ul> </div></details></nav></mobile-starlight-toc><script type="module" src="/_astro/MobileTableOfContents.astro_astro_type_script_index_0_lang.C181hMzK.js"></script></div><div class="right-sidebar-panel sl-hidden lg:sl-block astro-pb3aqygn"><div class="sl-container astro-pb3aqygn"><starlight-toc data-min-h="2" data-max-h="3"><nav aria-labelledby="starlight__on-this-page"><h2 id="starlight__on-this-page">On this page</h2><ul class="astro-g2bywc46" style="--depth: 0;"> <li class="astro-g2bywc46" style="--depth: 0;"> <a href="#_top" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Overview</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#jump-and-branch-instructions" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Jump and Branch Instructions</span> </a>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#selectiondag" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">SelectionDAG</span> </a> <ul class="astro-g2bywc46" style="--depth: 1;"> <li class="astro-g2bywc46" style="--depth: 1;"> <a href="#calling-conventions" class="astro-g2bywc46" style="--depth: 1;"> <span class="astro-g2bywc46" style="--depth: 1;">Calling Conventions</span> </a>  </li> </ul>  </li><li class="astro-g2bywc46" style="--depth: 0;"> <a href="#subtarget" class="astro-g2bywc46" style="--depth: 0;"> <span class="astro-g2bywc46" style="--depth: 0;">Subtarget</span> </a>  </li> </ul> </nav></starlight-toc><script type="module" src="/_astro/TableOfContents.astro_astro_type_script_index_0_lang.CKWWgpjV.js"></script></div></div> </div> </aside> <div class="main-pane astro-67yu43on">  <main data-pagefind-body class="astro-bguv2lll" lang="en" dir="ltr">    <div class="content-panel astro-7nkwcw3z"> <div class="sl-container astro-7nkwcw3z"> <h1 id="_top" class="astro-j6tvhyss">Adding instructions</h1>  </div> </div>  <div class="content-panel astro-7nkwcw3z"> <div class="sl-container astro-7nkwcw3z"> <div class="sl-markdown-content"> <details class="details details--note astro-hbmamkfo"> <summary class="details-summary astro-hbmamkfo"> <span class="icon astro-hbmamkfo"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="8" cy="8" r="6"/><path d="M8 8.5v-4"/><path d="M8 11.5v-.5"/></svg></span> <span class="title astro-hbmamkfo">Instruction encodings</span> <!-- <span class="arrow">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="m4 6 4 4 4-4"/>
      </svg>
    </span> --> </summary> <div class="content astro-hbmamkfo"> <p>Since we are not going to generate object code yet, we do not need to
write the instruction encodings.</p> </div> </details>  
<p>To support instruction selection for the <code dir="auto">Nova</code> target, we have to write
some tablegen and C++ code. Here is what we have to do:</p>
<ol>
<li>Write instructions in <code dir="auto">NovaInstrInfo.td</code>. These should cover all
instructions we want to support from the MIPS ISA.</li>
<li>We don’t need encodings, so we move to the next step.</li>
<li>Write matching patterns in <code dir="auto">NovaInstrPats.td</code> and <code dir="auto">NovaISelDAGToDAG.cpp</code>. This is where we will
implement the instruction selection.</li>
<li>Write the <code dir="auto">NovaISelDAGToDAG.cpp</code> file to implement the instruction selection.</li>
<li>Write the <code dir="auto">NovaISelLowering.cpp</code> file to implement the instruction lowering.</li>
</ol>
<h2 id="jump-and-branch-instructions">Jump and Branch Instructions</h2>
<p>First we need to create our TargetLowering class to tell
LLVM how to select instructions.</p>

<p>Add the instructions in the td file.</p>

<details class="details details--note astro-hbmamkfo"> <summary class="details-summary astro-hbmamkfo"> <span class="icon astro-hbmamkfo"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="8" cy="8" r="6"/><path d="M8 8.5v-4"/><path d="M8 11.5v-.5"/></svg></span> <span class="title astro-hbmamkfo">Glue and chains</span> <!-- <span class="arrow">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="m4 6 4 4 4-4"/>
      </svg>
    </span> --> </summary> <div class="content astro-hbmamkfo"> <div class="sl-link-card astro-mf7fz2mj"> <span class="sl-flex stack astro-mf7fz2mj"> <a href="https://groups.google.com/g/llvm-dev/c/F-GU_LiLOLs/m/CVETl5FwCQAJ" class="astro-mf7fz2mj"> <span class="title astro-mf7fz2mj">LLVM: Glue and chains</span> </a>  </span> <svg aria-hidden="true" class="icon rtl:flip astro-mf7fz2mj astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.333em;"><path d="M17.92 11.62a1.001 1.001 0 0 0-.21-.33l-5-5a1.003 1.003 0 1 0-1.42 1.42l3.3 3.29H7a1 1 0 0 0 0 2h7.59l-3.3 3.29a1.002 1.002 0 0 0 .325 1.639 1 1 0 0 0 1.095-.219l5-5a1 1 0 0 0 .21-.33 1 1 0 0 0 0-.76Z"/></svg>  </div> <blockquote>
<p>Chains represent a dependency between nodes that can’t be represented by a data dependency. For example a load following a store that might alias with the address of the load. The store must happen before the load. So the load’s chain input is dependent on the store’s chain output either directly or through other intermediate nodes that also have chain inputs and outputs. There can be multiple chains in parallel in the DAG. TokenFactor nodes are used to merge separate chains. The InstrEmitter ensures that the chain dependency is satisfied when emitting the linear instruction sequence after isel. But nothing guarantees that parallel chains won’t be interleaved. After a node is schedule all of the nodes dependent on it either through data or chain are checked to see if they are now ready to schedule. The scheduler will pick from the ready to schedule nodes without any concern for whether they were on the same chain as the last node scheduled.</p>
<p>Glue is stricter, it says that two nodes must be scheduled adjacent to each other in the linear instruction sequence.</p>
</blockquote> </div> </details>  
<p>We now have to tell LLVM how to lower return instructions. This is done in the <code dir="auto">TargetLowering</code> class.</p>
<details class="details details--note astro-hbmamkfo"> <summary class="details-summary astro-hbmamkfo"> <span class="icon astro-hbmamkfo"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="8" cy="8" r="6"/><path d="M8 8.5v-4"/><path d="M8 11.5v-.5"/></svg></span> <span class="title astro-hbmamkfo">See the virtual method in TargetLowering</span> <!-- <span class="arrow">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="m4 6 4 4 4-4"/>
      </svg>
    </span> --> </summary> <div class="content astro-hbmamkfo"> <p>This method must be implemented by targets.</p> </div> </details>  
<p>But first, let’s see how target calling conventions are defined.</p>
<p>Here are some types that are used for calling-convention information.</p>
<h4 id="1-isdargflagsty">1. <code dir="auto">ISD::ArgFlagsTy</code></h4>
<p>This is a bitset that contains information about the argument. It is used to
determine how the argument should be passed to the function.</p>
<details class="details details--note astro-hbmamkfo"> <summary class="details-summary astro-hbmamkfo"> <span class="icon astro-hbmamkfo"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="8" cy="8" r="6"/><path d="M8 8.5v-4"/><path d="M8 11.5v-.5"/></svg></span> <span class="title astro-hbmamkfo">ISD::ArgFlagsTy</span> <!-- <span class="arrow">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="m4 6 4 4 4-4"/>
      </svg>
    </span> --> </summary> <div class="content astro-hbmamkfo"> <div class="code-snippet astro-xvlhowr4"> <!-- for the after context div -->  <!-- for other contexts -->  <div class="expressive-code astro-xvlhowr4"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">llvm/include/llvm/CodeGen/TargetCallingConv.h(arg-flags)</span></figcaption><pre data-language="cpp" class="wrap" style="--ecMaxLine:54ch"><code><div class="ec-line"><div class="code"><span style="--0:#569CD6;--1:#0000FF">namespace</span><span style="--0:#D4D4D4;--1:#000000"> </span><span style="--0:#4EC9B0;--1:#227188">ISD</span><span style="--0:#D4D4D4;--1:#000000"> {</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line highlight mark"><div class="code"><span style="--0:#60a2d8;--1:#9090ff">struct</span><span style="--0:#D4D4D4;--1:#9c9c9c"> </span><span style="--0:#4EC9B0;--1:#71a4b3">ArgFlagsTy</span><span style="--0:#D4D4D4;--1:#9c9c9c"> {</span></div></div><div class="ec-line highlight mark"><div class="code"><span style="--0:#60a2d8;--1:#9090ff">private:</span></div></div><div class="ec-line highlight mark" style="--ecIndent:2ch"><div class="code"><span class="indent">  </span><span style="--0:#60a2d8;--1:#9090ff">unsigned</span><span style="--0:#D4D4D4;--1:#9c9c9c"> IsZExt : </span><span style="--0:#B5CEA8;--1:#63a98f">1</span><span style="--0:#D4D4D4;--1:#9c9c9c">;</span><span style="--0:#7fa76d;--1:#62ad62">     ///&#x3C; Zero extended</span></div></div><div class="ec-line highlight mark" style="--ecIndent:2ch"><div class="code"><span class="indent">  </span><span style="--0:#60a2d8;--1:#9090ff">unsigned</span><span style="--0:#D4D4D4;--1:#9c9c9c"> IsSExt : </span><span style="--0:#B5CEA8;--1:#63a98f">1</span><span style="--0:#D4D4D4;--1:#9c9c9c">;</span><span style="--0:#7fa76d;--1:#62ad62">     ///&#x3C; Sign extended</span></div></div><div class="ec-line highlight mark" style="--ecIndent:2ch"><div class="code"><span class="indent">  </span><span style="--0:#60a2d8;--1:#9090ff">unsigned</span><span style="--0:#D4D4D4;--1:#9c9c9c"> IsNoExt : </span><span style="--0:#B5CEA8;--1:#63a98f">1</span><span style="--0:#D4D4D4;--1:#9c9c9c">;</span><span style="--0:#7fa76d;--1:#62ad62">    ///&#x3C; No extension</span></div></div><div class="ec-line highlight mark" style="--ecIndent:2ch"><div class="code"><span class="indent">  </span><span style="--0:#60a2d8;--1:#9090ff">unsigned</span><span style="--0:#D4D4D4;--1:#9c9c9c"> IsInReg : </span><span style="--0:#B5CEA8;--1:#63a98f">1</span><span style="--0:#D4D4D4;--1:#9c9c9c">;</span><span style="--0:#7fa76d;--1:#62ad62">    ///&#x3C; Passed in register</span></div></div><div class="ec-line highlight mark" style="--ecIndent:2ch"><div class="code"><span class="indent">  </span><span style="--0:#60a2d8;--1:#9090ff">unsigned</span><span style="--0:#D4D4D4;--1:#9c9c9c"> IsSRet : </span><span style="--0:#B5CEA8;--1:#63a98f">1</span><span style="--0:#D4D4D4;--1:#9c9c9c">;</span><span style="--0:#7fa76d;--1:#62ad62">     ///&#x3C; Hidden struct-ret ptr</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="code"><span class="indent">  </span><span style="--0:#569CD6;--1:#0000FF">unsigned</span><span style="--0:#D4D4D4;--1:#000000"> IsByVal : </span><span style="--0:#B5CEA8;--1:#08774E">1</span><span style="--0:#D4D4D4;--1:#000000">;</span><span style="--0:#74A061;--1:#007A00">    ///&#x3C; Struct passed by value</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="code"><span class="indent">  </span><span style="--0:#569CD6;--1:#0000FF">unsigned</span><span style="--0:#D4D4D4;--1:#000000"> IsByRef : </span><span style="--0:#B5CEA8;--1:#08774E">1</span><span style="--0:#D4D4D4;--1:#000000">;</span><span style="--0:#74A061;--1:#007A00">    ///&#x3C; Passed in memory</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="namespace ISD {struct ArgFlagsTy {private:  unsigned IsZExt : 1;     ///< Zero extended  unsigned IsSExt : 1;     ///< Sign extended  unsigned IsNoExt : 1;    ///< No extension  unsigned IsInReg : 1;    ///< Passed in register  unsigned IsSRet : 1;     ///< Hidden struct-ret ptr  unsigned IsByVal : 1;    ///< Struct passed by value  unsigned IsByRef : 1;    ///< Passed in memory"><div></div></button></div></figure></div> </div> </div> </details>  
<h4 id="2-isdinputarg">2. <code dir="auto">ISD::InputArg</code></h4>
<p>This struct contains the flags and type information about a single incoming (formal) argument or incoming return value virtual register.</p>
<details title="MVT and EVT"><p><summary>MVT and EVT</summary>
There are two fundamental classes that are used to represent types in LLVM: <code dir="auto">MVT</code> and <code dir="auto">EVT</code>.</p><h4 id="1-mvt">1. MVT</h4><p>From the documentation:</p><blockquote>
<p>Machine Value Type. Every type that is supported natively by some
processor targeted by LLVM occurs here. This means that any legal value
type can be represented by an MVT.</p>
</blockquote><p>It is basically a single <code dir="auto">uint16_t</code> value that is used to represent the type. We can see all types listed in
<code dir="auto">ValueTypes.td</code>. We can query the properties of the type using the <code dir="auto">MVT</code> class methods. Some of them are pasted here for reference:</p><div class="code-snippet astro-xvlhowr4"> <!-- for the after context div -->  <!-- for other contexts -->  <div class="expressive-code astro-xvlhowr4"><link rel="stylesheet" href="/_astro/ec.678xb.css"><script type="module" src="/_astro/ec.8zarh.js"></script><figure class="frame has-title not-content"><figcaption class="header"><span class="title">llvm/include/llvm/CodeGen/ValueTypes.td(value-types-1)</span></figcaption><pre data-language="cpp" class="wrap" style="--ecMaxLine:66ch"><code><div class="ec-line"><div class="code"><span style="--0:#D4D4D4;--1:#000000">}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line highlight mark"><div class="code"><span style="--0:#D4D4D4;--1:#9c9c9c">def i1      : VTInt&#x3C;</span><span style="--0:#B5CEA8;--1:#63a98f">1</span><span style="--0:#D4D4D4;--1:#9c9c9c">,   </span><span style="--0:#B5CEA8;--1:#63a98f">2</span><span style="--0:#D4D4D4;--1:#9c9c9c">>;</span><span style="--0:#7fa76d;--1:#62ad62">  // One bit boolean value</span></div></div><div class="ec-line highlight mark"><div class="code"><span style="--0:#D4D4D4;--1:#9c9c9c">def i2      : VTInt&#x3C;</span><span style="--0:#B5CEA8;--1:#63a98f">2</span><span style="--0:#D4D4D4;--1:#9c9c9c">,   </span><span style="--0:#B5CEA8;--1:#63a98f">3</span><span style="--0:#D4D4D4;--1:#9c9c9c">>;</span><span style="--0:#7fa76d;--1:#62ad62">  // 2-bit integer value</span></div></div><div class="ec-section collapsible-start"><details><summary><div class="ec-line"><div class="code"><span class="expand"></span><span class="collapse"></span><span class="text">13 collapsed lines</span></div></div></summary></details><div class="content-lines"><div class="ec-line highlight mark"><div class="code"><span style="--0:#D4D4D4;--1:#9c9c9c">def i4      : VTInt&#x3C;</span><span style="--0:#B5CEA8;--1:#63a98f">4</span><span style="--0:#D4D4D4;--1:#9c9c9c">,   </span><span style="--0:#B5CEA8;--1:#63a98f">4</span><span style="--0:#D4D4D4;--1:#9c9c9c">>;</span><span style="--0:#7fa76d;--1:#62ad62">  // 4-bit integer value</span></div></div><div class="ec-line highlight mark"><div class="code"><span style="--0:#D4D4D4;--1:#9c9c9c">def i8      : VTInt&#x3C;</span><span style="--0:#B5CEA8;--1:#63a98f">8</span><span style="--0:#D4D4D4;--1:#9c9c9c">,   </span><span style="--0:#B5CEA8;--1:#63a98f">5</span><span style="--0:#D4D4D4;--1:#9c9c9c">>;</span><span style="--0:#7fa76d;--1:#62ad62">  // 8-bit integer value</span></div></div><div class="ec-line highlight mark"><div class="code"><span style="--0:#D4D4D4;--1:#9c9c9c">def i16     : VTInt&#x3C;</span><span style="--0:#B5CEA8;--1:#63a98f">16</span><span style="--0:#D4D4D4;--1:#9c9c9c">,  </span><span style="--0:#B5CEA8;--1:#63a98f">6</span><span style="--0:#D4D4D4;--1:#9c9c9c">>;</span><span style="--0:#7fa76d;--1:#62ad62">  // 16-bit integer value</span></div></div><div class="ec-line highlight mark"><div class="code"><span style="--0:#D4D4D4;--1:#9c9c9c">def i32     : VTInt&#x3C;</span><span style="--0:#B5CEA8;--1:#63a98f">32</span><span style="--0:#D4D4D4;--1:#9c9c9c">,  </span><span style="--0:#B5CEA8;--1:#63a98f">7</span><span style="--0:#D4D4D4;--1:#9c9c9c">>;</span><span style="--0:#7fa76d;--1:#62ad62">  // 32-bit integer value</span></div></div><div class="ec-line highlight mark"><div class="code"><span style="--0:#D4D4D4;--1:#9c9c9c">def i64     : VTInt&#x3C;</span><span style="--0:#B5CEA8;--1:#63a98f">64</span><span style="--0:#D4D4D4;--1:#9c9c9c">,  </span><span style="--0:#B5CEA8;--1:#63a98f">8</span><span style="--0:#D4D4D4;--1:#9c9c9c">>;</span><span style="--0:#7fa76d;--1:#62ad62">  // 64-bit integer value</span></div></div><div class="ec-line highlight mark"><div class="code"><span style="--0:#D4D4D4;--1:#9c9c9c">def i128    : VTInt&#x3C;</span><span style="--0:#B5CEA8;--1:#63a98f">128</span><span style="--0:#D4D4D4;--1:#9c9c9c">, </span><span style="--0:#B5CEA8;--1:#63a98f">9</span><span style="--0:#D4D4D4;--1:#9c9c9c">>;</span><span style="--0:#7fa76d;--1:#62ad62">  // 128-bit integer value</span></div></div><div class="ec-line highlight mark"><div class="code">
</div></div><div class="ec-line highlight mark"><div class="code"><span style="--0:#D4D4D4;--1:#9c9c9c">def bf16    : VTFP&#x3C;</span><span style="--0:#B5CEA8;--1:#63a98f">16</span><span style="--0:#D4D4D4;--1:#9c9c9c">,  </span><span style="--0:#B5CEA8;--1:#63a98f">10</span><span style="--0:#D4D4D4;--1:#9c9c9c">>;</span><span style="--0:#7fa76d;--1:#62ad62">  // 16-bit brain floating point value</span></div></div><div class="ec-line highlight mark"><div class="code"><span style="--0:#D4D4D4;--1:#9c9c9c">def f16     : VTFP&#x3C;</span><span style="--0:#B5CEA8;--1:#63a98f">16</span><span style="--0:#D4D4D4;--1:#9c9c9c">,  </span><span style="--0:#B5CEA8;--1:#63a98f">11</span><span style="--0:#D4D4D4;--1:#9c9c9c">>;</span><span style="--0:#7fa76d;--1:#62ad62">  // 16-bit floating point value</span></div></div><div class="ec-line highlight mark"><div class="code"><span style="--0:#D4D4D4;--1:#9c9c9c">def f32     : VTFP&#x3C;</span><span style="--0:#B5CEA8;--1:#63a98f">32</span><span style="--0:#D4D4D4;--1:#9c9c9c">,  </span><span style="--0:#B5CEA8;--1:#63a98f">12</span><span style="--0:#D4D4D4;--1:#9c9c9c">>;</span><span style="--0:#7fa76d;--1:#62ad62">  // 32-bit floating point value</span></div></div><div class="ec-line highlight mark"><div class="code"><span style="--0:#D4D4D4;--1:#9c9c9c">def f64     : VTFP&#x3C;</span><span style="--0:#B5CEA8;--1:#63a98f">64</span><span style="--0:#D4D4D4;--1:#9c9c9c">,  </span><span style="--0:#B5CEA8;--1:#63a98f">13</span><span style="--0:#D4D4D4;--1:#9c9c9c">>;</span><span style="--0:#7fa76d;--1:#62ad62">  // 64-bit floating point value</span></div></div><div class="ec-line highlight mark"><div class="code"><span style="--0:#D4D4D4;--1:#9c9c9c">def f80     : VTFP&#x3C;</span><span style="--0:#B5CEA8;--1:#63a98f">80</span><span style="--0:#D4D4D4;--1:#9c9c9c">,  </span><span style="--0:#B5CEA8;--1:#63a98f">14</span><span style="--0:#D4D4D4;--1:#9c9c9c">>;</span><span style="--0:#7fa76d;--1:#62ad62">  // 80-bit floating point value</span></div></div><div class="ec-line highlight mark"><div class="code"><span style="--0:#D4D4D4;--1:#9c9c9c">def f128    : VTFP&#x3C;</span><span style="--0:#B5CEA8;--1:#63a98f">128</span><span style="--0:#D4D4D4;--1:#9c9c9c">, </span><span style="--0:#B5CEA8;--1:#63a98f">15</span><span style="--0:#D4D4D4;--1:#9c9c9c">>;</span><span style="--0:#7fa76d;--1:#62ad62">  // 128-bit floating point value</span></div></div></div></div><div class="ec-line highlight mark"><div class="code"><span style="--0:#D4D4D4;--1:#9c9c9c">def ppcf128 : VTFP&#x3C;</span><span style="--0:#B5CEA8;--1:#63a98f">128</span><span style="--0:#D4D4D4;--1:#9c9c9c">, </span><span style="--0:#B5CEA8;--1:#63a98f">16</span><span style="--0:#D4D4D4;--1:#9c9c9c">>;</span><span style="--0:#7fa76d;--1:#62ad62">  // PPC 128-bit floating point value</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#D4D4D4;--1:#000000">def v1i1    : VTVec&#x3C;</span><span style="--0:#B5CEA8;--1:#08774E">1</span><span style="--0:#D4D4D4;--1:#000000">,    i1, </span><span style="--0:#B5CEA8;--1:#08774E">17</span><span style="--0:#D4D4D4;--1:#000000">>;</span><span style="--0:#74A061;--1:#007A00">  //    1 x i1 vector value</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="}def i1      : VTInt<1,   2>;  // One bit boolean valuedef i2      : VTInt<2,   3>;  // 2-bit integer valuedef i4      : VTInt<4,   4>;  // 4-bit integer valuedef i8      : VTInt<8,   5>;  // 8-bit integer valuedef i16     : VTInt<16,  6>;  // 16-bit integer valuedef i32     : VTInt<32,  7>;  // 32-bit integer valuedef i64     : VTInt<64,  8>;  // 64-bit integer valuedef i128    : VTInt<128, 9>;  // 128-bit integer valuedef bf16    : VTFP<16,  10>;  // 16-bit brain floating point valuedef f16     : VTFP<16,  11>;  // 16-bit floating point valuedef f32     : VTFP<32,  12>;  // 32-bit floating point valuedef f64     : VTFP<64,  13>;  // 64-bit floating point valuedef f80     : VTFP<80,  14>;  // 80-bit floating point valuedef f128    : VTFP<128, 15>;  // 128-bit floating point valuedef ppcf128 : VTFP<128, 16>;  // PPC 128-bit floating point valuedef v1i1    : VTVec<1,    i1, 17>;  //    1 x i1 vector value"><div></div></button></div></figure></div> </div><h4 id="2-evt">2. EVT</h4><p>From the documentation:</p><blockquote>
<p>Extended Value Type. Capable of holding value types which are not native
for any processor (such as the i12345 type), as well as the types an MVT
can represent.</p>
</blockquote><p>An EVT object holds an <code dir="auto">MVT</code> value and an LLVM <code dir="auto">Type</code> object.</p><p>We can initialize an <code dir="auto">EVT</code> object in two ways shown below. Note that they can be implicitly casted from <code dir="auto">MVT</code>.</p><div class="code-snippet astro-xvlhowr4"> <!-- for the after context div -->  <!-- for other contexts -->  <div class="expressive-code astro-xvlhowr4"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">llvm/include/llvm/CodeGen/ValueTypes.h(evt-init-1)</span></figcaption><pre data-language="cpp" class="wrap" style="--ecMaxLine:55ch"><code><div class="ec-line" style="--ecIndent:2ch"><div class="code"><span class="indent">  </span><span style="--0:#569CD6;--1:#0000FF">public:</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="code"><span class="indent">    </span><span style="--0:#569CD6;--1:#0000FF">constexpr</span><span style="--0:#D4D4D4;--1:#000000"> </span><span style="--0:#DCDCAA;--1:#795E26">EVT</span><span style="--0:#D4D4D4;--1:#000000">() = </span><span style="--0:#C586C0;--1:#AC00D8">default</span><span style="--0:#D4D4D4;--1:#000000">;</span></div></div><div class="ec-line highlight mark" style="--ecIndent:4ch"><div class="code"><span class="indent">    </span><span style="--0:#60a2d8;--1:#9090ff">constexpr</span><span style="--0:#D4D4D4;--1:#9c9c9c"> </span><span style="--0:#DCDCAA;--1:#ab9a77">EVT</span><span style="--0:#D4D4D4;--1:#9c9c9c">(</span><span style="--0:#4EC9B0;--1:#71a4b3">MVT</span><span style="--0:#D4D4D4;--1:#9c9c9c">::SimpleValueType SVT) : </span><span style="--0:#DCDCAA;--1:#ab9a77">V</span><span style="--0:#D4D4D4;--1:#9c9c9c">(SVT) {}</span></div></div><div class="ec-line highlight mark" style="--ecIndent:4ch"><div class="code"><span class="indent">    </span><span style="--0:#60a2d8;--1:#9090ff">constexpr</span><span style="--0:#D4D4D4;--1:#9c9c9c"> </span><span style="--0:#DCDCAA;--1:#ab9a77">EVT</span><span style="--0:#D4D4D4;--1:#9c9c9c">(MVT S) : </span><span style="--0:#DCDCAA;--1:#ab9a77">V</span><span style="--0:#D4D4D4;--1:#9c9c9c">(S) {}</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line" style="--ecIndent:4ch"><div class="code"><span class="indent">    </span><span style="--0:#569CD6;--1:#0000FF">bool</span><span style="--0:#D4D4D4;--1:#000000"> </span><span style="--0:#C586C0;--1:#AC00D8">operator==</span><span style="--0:#D4D4D4;--1:#000000">(</span><span style="--0:#4EC9B0;--1:#227188">EVT</span><span style="--0:#D4D4D4;--1:#000000"> </span><span style="--0:#9CDCFE;--1:#001080">VT</span><span style="--0:#D4D4D4;--1:#000000">) </span><span style="--0:#569CD6;--1:#0000FF">const</span><span style="--0:#D4D4D4;--1:#000000"> {</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="  public:    constexpr EVT() = default;    constexpr EVT(MVT::SimpleValueType SVT) : V(SVT) {}    constexpr EVT(MVT S) : V(S) {}    bool operator==(EVT VT) const {"><div></div></button></div></figure></div> </div><p>The two fields start off invalid for the default constructor.</p><div class="code-snippet astro-xvlhowr4"> <!-- for the after context div -->  <!-- for other contexts -->  <div class="expressive-code astro-xvlhowr4"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">llvm/include/llvm/CodeGen/ValueTypes.h(evt-members)</span></figcaption><pre data-language="cpp" class="wrap" style="--ecMaxLine:78ch"><code><div class="ec-line" style="--ecIndent:2ch"><div class="code"><span class="indent"><span style="--0:#74A061;--1:#007A00">  </span></span><span style="--0:#74A061;--1:#007A00">/// for any processor (such as the i12345 type), as well as the types an MVT</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="code"><span class="indent"><span style="--0:#74A061;--1:#007A00">  </span></span><span style="--0:#74A061;--1:#007A00">/// can represent.</span></div></div><div class="ec-line highlight mark" style="--ecIndent:2ch"><div class="code"><span class="indent">  </span><span style="--0:#60a2d8;--1:#9090ff">struct</span><span style="--0:#D4D4D4;--1:#9c9c9c"> </span><span style="--0:#4EC9B0;--1:#71a4b3">EVT</span><span style="--0:#D4D4D4;--1:#9c9c9c"> {</span></div></div><div class="ec-line highlight mark" style="--ecIndent:2ch"><div class="code"><span class="indent">  </span><span style="--0:#60a2d8;--1:#9090ff">private:</span></div></div><div class="ec-line highlight mark" style="--ecIndent:4ch"><div class="code"><span style="--1:#9c9c9c"><span class="indent"><span style="--0:#D4D4D4">    </span></span><span style="--0:#D4D4D4">MVT V = </span></span><span style="--0:#4EC9B0;--1:#71a4b3">MVT</span><span style="--0:#D4D4D4;--1:#9c9c9c">::INVALID_SIMPLE_VALUE_TYPE;</span></div></div><div class="ec-line highlight mark" style="--ecIndent:4ch"><div class="code"><span style="--1:#9c9c9c"><span class="indent"><span style="--0:#D4D4D4">    </span></span><span style="--0:#D4D4D4">Type *LLVMTy = </span></span><span style="--0:#60a2d8;--1:#9090ff">nullptr</span><span style="--0:#D4D4D4;--1:#9c9c9c">;</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="code"><span class="indent">  </span><span style="--0:#569CD6;--1:#0000FF">public:</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="code"><span class="indent">    </span><span style="--0:#569CD6;--1:#0000FF">constexpr</span><span style="--0:#D4D4D4;--1:#000000"> </span><span style="--0:#DCDCAA;--1:#795E26">EVT</span><span style="--0:#D4D4D4;--1:#000000">() = </span><span style="--0:#569CD6;--1:#0000FF">default</span><span style="--0:#D4D4D4;--1:#000000">;</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="  /// for any processor (such as the i12345 type), as well as the types an MVT  /// can represent.  struct EVT {  private:    MVT V = MVT::INVALID_SIMPLE_VALUE_TYPE;    Type *LLVMTy = nullptr;  public:    constexpr EVT() = default;"><div></div></button></div></figure></div> </div><p>We then have a number of methods to query the type. Some of them are:</p><ol>
<li><code dir="auto">isSimple()</code> - Returns true if the type is a simple type (i.e. not a vector or complex type).
Here “extended” means that this is not an MVT type but an LLVMTy.</li>
<li><code dir="auto">isInteger()</code> - Returns true if the type is an integer type.
and so on.</li>
</ol></details>
<div class="code-snippet astro-xvlhowr4"> <!-- for the after context div -->  <!-- for other contexts -->  <div class="expressive-code astro-xvlhowr4"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">llvm/include/llvm/CodeGen/TargetCallingConv.h(input-arg)</span></figcaption><pre data-language="cpp" class="wrap" style="--ecMaxLine:73ch"><code><div class="ec-line"><div class="code"><span style="--0:#74A061;--1:#007A00">/// of the caller) return value virtual register.</span></div></div><div class="ec-line"><div class="code"><span style="--0:#74A061;--1:#007A00">///</span></div></div><div class="ec-line highlight mark"><div class="code"><span style="--0:#60a2d8;--1:#9090ff">struct</span><span style="--0:#D4D4D4;--1:#9c9c9c"> </span><span style="--0:#4EC9B0;--1:#71a4b3">InputArg</span><span style="--0:#D4D4D4;--1:#9c9c9c"> {</span></div></div><div class="ec-line highlight mark" style="--ecIndent:2ch"><div class="code"><span style="--1:#9c9c9c"><span class="indent"><span style="--0:#D4D4D4">  </span></span><span style="--0:#D4D4D4">ArgFlagsTy Flags;</span></span></div></div><div class="ec-line highlight mark" style="--ecIndent:2ch"><div class="code"><span style="--1:#9c9c9c"><span class="indent"><span style="--0:#D4D4D4">  </span></span><span style="--0:#D4D4D4">MVT VT = </span></span><span style="--0:#4EC9B0;--1:#71a4b3">MVT</span><span style="--0:#D4D4D4;--1:#9c9c9c">::Other;</span></div></div><div class="ec-line highlight mark" style="--ecIndent:2ch"><div class="code"><span style="--1:#9c9c9c"><span class="indent"><span style="--0:#D4D4D4">  </span></span><span style="--0:#D4D4D4">EVT ArgVT;</span></span></div></div><div class="ec-line highlight mark" style="--ecIndent:2ch"><div class="code"><span class="indent">  </span><span style="--0:#60a2d8;--1:#9090ff">bool</span><span style="--0:#D4D4D4;--1:#9c9c9c"> Used = </span><span style="--0:#60a2d8;--1:#9090ff">false</span><span style="--0:#D4D4D4;--1:#9c9c9c">;</span></div></div><div class="ec-line highlight mark" style="--ecIndent:2ch"><div class="code"><span style="--0:#7fa76d;--1:#62ad62"><span class="indent">  </span>/// Index original Function's argument.</span></div></div><div class="ec-line highlight mark" style="--ecIndent:2ch"><div class="code"><span class="indent">  </span><span style="--0:#60a2d8;--1:#9090ff">unsigned</span><span style="--0:#D4D4D4;--1:#9c9c9c"> OrigArgIndex;</span></div></div><div class="ec-line highlight mark" style="--ecIndent:2ch"><div class="code"><span style="--0:#7fa76d;--1:#62ad62"><span class="indent">  </span>/// Sentinel value for implicit machine-level input arguments.</span></div></div><div class="ec-line highlight mark" style="--ecIndent:2ch"><div class="code"><span class="indent">  </span><span style="--0:#60a2d8;--1:#9090ff">static</span><span style="--0:#D4D4D4;--1:#9c9c9c"> </span><span style="--0:#60a2d8;--1:#9090ff">const</span><span style="--0:#D4D4D4;--1:#9c9c9c"> </span><span style="--0:#60a2d8;--1:#9090ff">unsigned</span><span style="--0:#D4D4D4;--1:#9c9c9c"> NoArgIndex = UINT_MAX;</span></div></div><div class="ec-line highlight mark"><div class="code">
</div></div><div class="ec-line highlight mark" style="--ecIndent:2ch"><div class="code"><span style="--0:#7fa76d;--1:#62ad62"><span class="indent">  </span>/// Offset in bytes of current input value relative to the beginning of</span></div></div><div class="ec-line highlight mark" style="--ecIndent:2ch"><div class="code"><span style="--0:#7fa76d;--1:#62ad62"><span class="indent">  </span>/// original argument. E.g. if argument was splitted into four 32 bit</span></div></div><div class="ec-line highlight mark" style="--ecIndent:2ch"><div class="code"><span style="--0:#7fa76d;--1:#62ad62"><span class="indent">  </span>/// registers, we got 4 InputArgs with PartOffsets 0, 4, 8 and 12.</span></div></div><div class="ec-line highlight mark" style="--ecIndent:2ch"><div class="code"><span class="indent">  </span><span style="--0:#60a2d8;--1:#9090ff">unsigned</span><span style="--0:#D4D4D4;--1:#9c9c9c"> PartOffset;</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line" style="--ecIndent:2ch"><div class="code"><span class="indent">  </span><span style="--0:#DCDCAA;--1:#795E26">InputArg</span><span style="--0:#D4D4D4;--1:#000000">() = </span><span style="--0:#569CD6;--1:#0000FF">default</span><span style="--0:#D4D4D4;--1:#000000">;</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="/// of the caller) return value virtual register.///struct InputArg {  ArgFlagsTy Flags;  MVT VT = MVT::Other;  EVT ArgVT;  bool Used = false;  /// Index original Function&#x27;s argument.  unsigned OrigArgIndex;  /// Sentinel value for implicit machine-level input arguments.  static const unsigned NoArgIndex = UINT_MAX;  /// Offset in bytes of current input value relative to the beginning of  /// original argument. E.g. if argument was splitted into four 32 bit  /// registers, we got 4 InputArgs with PartOffsets 0, 4, 8 and 12.  unsigned PartOffset;  InputArg() = default;"><div></div></button></div></figure></div> </div>
<h4 id="3-isdoutputarg">3. <code dir="auto">ISD::OutputArg</code></h4>
<p>Same as <code dir="auto">ISD::InputArg</code>, but for outgoing arguments. It is used to determine how the argument should be passed to the function.</p>
<div class="code-snippet astro-xvlhowr4"> <!-- for the after context div -->  <!-- for other contexts -->  <div class="expressive-code astro-xvlhowr4"><figure class="frame has-title not-content"><figcaption class="header"><span class="title">llvm/include/llvm/CodeGen/TargetCallingConv.h(output-arg)</span></figcaption><pre data-language="cpp" class="wrap" style="--ecMaxLine:80ch"><code><div class="ec-line"><div class="code"><span style="--0:#74A061;--1:#007A00">/// of the caller) return value virtual register.</span></div></div><div class="ec-line"><div class="code"><span style="--0:#74A061;--1:#007A00">///</span></div></div><div class="ec-line highlight ins"><div class="code"><span style="--0:#62a3d9;--1:#0000FF">struct</span><span style="--0:#D4D4D4;--1:#000000"> </span><span style="--0:#4EC9B0;--1:#1f687d">OutputArg</span><span style="--0:#D4D4D4;--1:#000000"> {</span></div></div><div class="ec-line highlight ins" style="--ecIndent:2ch"><div class="code"><span class="indent"><span style="--0:#D4D4D4;--1:#000000">  </span></span><span style="--0:#D4D4D4;--1:#000000">ArgFlagsTy Flags;</span></div></div><div class="ec-line highlight ins" style="--ecIndent:2ch"><div class="code"><span class="indent"><span style="--0:#D4D4D4;--1:#000000">  </span></span><span style="--0:#D4D4D4;--1:#000000">MVT VT;</span></div></div><div class="ec-line highlight ins" style="--ecIndent:2ch"><div class="code"><span class="indent"><span style="--0:#D4D4D4;--1:#000000">  </span></span><span style="--0:#D4D4D4;--1:#000000">EVT ArgVT;</span></div></div><div class="ec-line highlight ins"><div class="code">
</div></div><div class="ec-line highlight ins" style="--ecIndent:2ch"><div class="code"><span style="--0:#80a86f;--1:#007000"><span class="indent">  </span>/// IsFixed - Is this a "fixed" value, ie not passed through a vararg "...".</span></div></div><div class="ec-line highlight ins" style="--ecIndent:2ch"><div class="code"><span class="indent">  </span><span style="--0:#62a3d9;--1:#0000FF">bool</span><span style="--0:#D4D4D4;--1:#000000"> IsFixed = </span><span style="--0:#62a3d9;--1:#0000FF">false</span><span style="--0:#D4D4D4;--1:#000000">;</span></div></div><div class="ec-line highlight ins"><div class="code">
</div></div><div class="ec-line highlight ins" style="--ecIndent:2ch"><div class="code"><span style="--0:#80a86f;--1:#007000"><span class="indent">  </span>/// Index original Function's argument.</span></div></div><div class="ec-line highlight ins" style="--ecIndent:2ch"><div class="code"><span class="indent">  </span><span style="--0:#62a3d9;--1:#0000FF">unsigned</span><span style="--0:#D4D4D4;--1:#000000"> OrigArgIndex;</span></div></div><div class="ec-line highlight ins"><div class="code">
</div></div><div class="ec-line highlight ins" style="--ecIndent:2ch"><div class="code"><span style="--0:#80a86f;--1:#007000"><span class="indent">  </span>/// Offset in bytes of current output value relative to the beginning of</span></div></div><div class="ec-line highlight ins" style="--ecIndent:2ch"><div class="code"><span style="--0:#80a86f;--1:#007000"><span class="indent">  </span>/// original argument. E.g. if argument was splitted into four 32 bit</span></div></div><div class="ec-line highlight ins" style="--ecIndent:2ch"><div class="code"><span style="--0:#80a86f;--1:#007000"><span class="indent">  </span>/// registers, we got 4 OutputArgs with PartOffsets 0, 4, 8 and 12.</span></div></div><div class="ec-line highlight ins" style="--ecIndent:2ch"><div class="code"><span class="indent">  </span><span style="--0:#62a3d9;--1:#0000FF">unsigned</span><span style="--0:#D4D4D4;--1:#000000"> PartOffset;</span></div></div><div class="ec-line highlight ins"><div class="code">
</div></div><div class="ec-line" style="--ecIndent:2ch"><div class="code"><span class="indent">  </span><span style="--0:#DCDCAA;--1:#795E26">OutputArg</span><span style="--0:#D4D4D4;--1:#000000">() = </span><span style="--0:#569CD6;--1:#0000FF">default</span><span style="--0:#D4D4D4;--1:#000000">;</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="code"><span class="indent">  </span><span style="--0:#DCDCAA;--1:#795E26">OutputArg</span><span style="--0:#D4D4D4;--1:#000000">(</span><span style="--0:#4EC9B0;--1:#227188">ArgFlagsTy</span><span style="--0:#D4D4D4;--1:#000000"> </span><span style="--0:#9CDCFE;--1:#001080">flags</span><span style="--0:#D4D4D4;--1:#000000">, </span><span style="--0:#4EC9B0;--1:#227188">MVT</span><span style="--0:#D4D4D4;--1:#000000"> </span><span style="--0:#9CDCFE;--1:#001080">vt</span><span style="--0:#D4D4D4;--1:#000000">, </span><span style="--0:#4EC9B0;--1:#227188">EVT</span><span style="--0:#D4D4D4;--1:#000000"> </span><span style="--0:#9CDCFE;--1:#001080">argvt</span><span style="--0:#D4D4D4;--1:#000000">, </span><span style="--0:#569CD6;--1:#0000FF">bool</span><span style="--0:#D4D4D4;--1:#000000"> </span><span style="--0:#9CDCFE;--1:#001080">isfixed</span><span style="--0:#D4D4D4;--1:#000000">, </span><span style="--0:#569CD6;--1:#0000FF">unsigned</span><span style="--0:#D4D4D4;--1:#000000"> </span><span style="--0:#9CDCFE;--1:#001080">origIdx</span><span style="--0:#D4D4D4;--1:#000000">,</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="/// of the caller) return value virtual register.///struct OutputArg {  ArgFlagsTy Flags;  MVT VT;  EVT ArgVT;  /// IsFixed - Is this a &#x22;fixed&#x22; value, ie not passed through a vararg &#x22;...&#x22;.  bool IsFixed = false;  /// Index original Function&#x27;s argument.  unsigned OrigArgIndex;  /// Offset in bytes of current output value relative to the beginning of  /// original argument. E.g. if argument was splitted into four 32 bit  /// registers, we got 4 OutputArgs with PartOffsets 0, 4, 8 and 12.  unsigned PartOffset;  OutputArg() = default;  OutputArg(ArgFlagsTy flags, MVT vt, EVT argvt, bool isfixed, unsigned origIdx,"><div></div></button></div></figure></div> </div>
<p>The next major structure is the <code dir="auto">SelectionDAG</code> that is passed to the <code dir="auto">LowerReturn</code> method. Let’s take a look at that.</p>
<h2 id="selectiondag"><code dir="auto">SelectionDAG</code></h2>
<details class="details details--tip astro-hbmamkfo"> <summary class="details-summary astro-hbmamkfo"> <span class="icon astro-hbmamkfo"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8 1.5v1M12 4l.7-.7M4 4l-.7-.7M2.5 8h-1M14.5 8h-1M12 12l.7.7M4 12l-.7.7M8 14.5v1M10 8a2 2 0 1 1-4 0 2 2 0 0 1 4 0Z"/></svg></span> <span class="title astro-hbmamkfo">Move this section</span> <!-- <span class="arrow">
      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="m4 6 4 4 4-4"/>
      </svg>
    </span> --> </summary> <div class="content astro-hbmamkfo"> <p>This can be moved into its own page explaining the selection process.</p> </div> </details>  
<p>Each SDAG represents a single basic block in a function. In the instruction selection pipeline,
the DAG is constructed from the LLVM IR. Then the DAG is transformed into a target-specific DAG.</p>
<p>DAG is defined by the root and entry node.</p>
<p>// write about printing and reading the dag.</p>
<h3 id="calling-conventions">Calling Conventions</h3>
<p>LLVM defines a number of common calling conventions, represented by the <code dir="auto">CallingConv::ID</code> as an enum value.</p>
<p>Some of them are <code dir="auto">C</code>, <code dir="auto">Fast</code>, <code dir="auto">Cold</code> and some target-specific ones like <code dir="auto">Win64</code> and <code dir="auto">X86_64_SysV</code>.</p>
<p><strong>CCValAssign</strong>
This represents assignment of one arg/retval to a location.</p>
<p>Let’s now implement the <code dir="auto">LowerReturn</code> method in our <code dir="auto">TargetLowering</code> class.</p>
<p>Setup the ISel Lowering file.</p>

<p>Write the implementation.</p>

<p>Now onto the LowerReturn method.</p>
<p>Let’s consider an example of a return statement that needs to be lowered.</p>
<div class="expressive-code"><link rel="stylesheet" href="/_astro/ec.678xb.css"><script type="module" src="/_astro/ec.8zarh.js"></script><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="llvm" class="wrap" style="--ecMaxLine:34ch"><code><div class="ec-line"><div class="code"><span style="--0:#d4d4d4;--1:#000000">define i64 @rett(i32 %a, i32 %b) {</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d4d4d4;--1:#000000">entry:</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="code"><span class="indent"><span style="--0:#d4d4d4;--1:#000000">    </span></span><span style="--0:#d4d4d4;--1:#000000">%aext = zext i32 %a to i64</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="code"><span class="indent"><span style="--0:#d4d4d4;--1:#000000">    </span></span><span style="--0:#d4d4d4;--1:#000000">%bext = zext i32 %b to i64</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="code"><span class="indent"><span style="--0:#d4d4d4;--1:#000000">    </span></span><span style="--0:#d4d4d4;--1:#000000">%ret = add i64 %aext, %bext</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="code"><span class="indent"><span style="--0:#d4d4d4;--1:#000000">    </span></span><span style="--0:#d4d4d4;--1:#000000">ret i64 %ret</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d4d4d4;--1:#000000">}</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="define i64 @rett(i32 %a, i32 %b) {entry:    %aext = zext i32 %a to i64    %bext = zext i32 %b to i64    %ret = add i64 %aext, %bext    ret i64 %ret}"><div></div></button></div></figure></div>
<p>This is converted into this selection DAG:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="c" class="wrap" style="--ecMaxLine:71ch"><code><div class="ec-line"><div class="code"><span style="--0:#D4D4D4;--1:#000000">Initial selection DAG: %bb.</span><span style="--0:#B5CEA8;--1:#08774E">0</span><span style="--0:#D4D4D4;--1:#000000"> </span><span style="--0:#CE9178;--1:#A31515">'rett:entry'</span></div></div><div class="ec-line"><div class="code"><span style="--0:#D4D4D4;--1:#000000">SelectionDAG has </span><span style="--0:#B5CEA8;--1:#08774E">17</span><span style="--0:#D4D4D4;--1:#000000"> nodes:</span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="code"><span class="indent"><span style="--0:#D4D4D4;--1:#000000">  </span></span><span style="--0:#D4D4D4;--1:#000000">t0: ch,glue = EntryToken</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="code"><span class="indent"><span style="--0:#D4D4D4;--1:#000000">      </span></span><span style="--0:#D4D4D4;--1:#000000">t2: i32,ch = CopyFromReg t0, Register:i32 %</span><span style="--0:#B5CEA8;--1:#08774E">0</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="code"><span class="indent"><span style="--0:#D4D4D4;--1:#000000">    </span></span><span style="--0:#D4D4D4;--1:#000000">t5: i64 = zero_extend t2</span></div></div><div class="ec-line" style="--ecIndent:6ch"><div class="code"><span class="indent"><span style="--0:#D4D4D4;--1:#000000">      </span></span><span style="--0:#D4D4D4;--1:#000000">t4: i32,ch = CopyFromReg t0, Register:i32 %</span><span style="--0:#B5CEA8;--1:#08774E">1</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="code"><span class="indent"><span style="--0:#D4D4D4;--1:#000000">    </span></span><span style="--0:#D4D4D4;--1:#000000">t6: i64 = zero_extend t4</span></div></div><div class="ec-line highlight mark" style="--ecIndent:2ch"><div class="code"><span style="--1:#9c9c9c"><span class="indent"><span style="--0:#D4D4D4">  </span></span><span style="--0:#D4D4D4">t7: i64 = add t5, t6</span></span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="code"><span class="indent"><span style="--0:#D4D4D4;--1:#000000">    </span></span><span style="--0:#D4D4D4;--1:#000000">t9: i32 = extract_element t7, Constant:i32&#x3C;</span><span style="--0:#B5CEA8;--1:#08774E">1</span><span style="--0:#D4D4D4;--1:#000000">></span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="code"><span class="indent"><span style="--0:#D4D4D4;--1:#000000">  </span></span><span style="--0:#D4D4D4;--1:#000000">t13: ch,glue = CopyToReg t0, Register:i32 $v0, t9</span></div></div><div class="ec-line" style="--ecIndent:4ch"><div class="code"><span class="indent"><span style="--0:#D4D4D4;--1:#000000">    </span></span><span style="--0:#D4D4D4;--1:#000000">t11: i32 = extract_element t7, Constant:i32&#x3C;</span><span style="--0:#B5CEA8;--1:#08774E">0</span><span style="--0:#D4D4D4;--1:#000000">></span></div></div><div class="ec-line" style="--ecIndent:2ch"><div class="code"><span class="indent"><span style="--0:#D4D4D4;--1:#000000">  </span></span><span style="--0:#D4D4D4;--1:#000000">t15: ch,glue = CopyToReg t13, Register:i32 $v1, t11, t13:</span><span style="--0:#B5CEA8;--1:#08774E">1</span></div></div><div class="ec-line highlight mark" style="--ecIndent:2ch"><div class="code"><span style="--1:#9c9c9c"><span class="indent"><span style="--0:#D4D4D4">  </span></span><span style="--0:#D4D4D4">t16: ch = MipsISD::Ret t15, Register:i32 $v0, Register:i32 $v1, t15:</span></span><span style="--0:#B5CEA8;--1:#63a98f">1</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="Initial selection DAG: %bb.0 &#x27;rett:entry&#x27;SelectionDAG has 17 nodes:  t0: ch,glue = EntryToken      t2: i32,ch = CopyFromReg t0, Register:i32 %0    t5: i64 = zero_extend t2      t4: i32,ch = CopyFromReg t0, Register:i32 %1    t6: i64 = zero_extend t4  t7: i64 = add t5, t6    t9: i32 = extract_element t7, Constant:i32<1>  t13: ch,glue = CopyToReg t0, Register:i32 $v0, t9    t11: i32 = extract_element t7, Constant:i32<0>  t15: ch,glue = CopyToReg t13, Register:i32 $v1, t11, t13:1  t16: ch = MipsISD::Ret t15, Register:i32 $v0, Register:i32 $v1, t15:1"><div></div></button></div></figure></div>
<p>We see that the return instruction returns two values for one i64 value. This is because the MIPS ABI requires that all values be returned in registers. The return value is split into two 32-bit values.</p>
<p>The <code dir="auto">LowerReturn</code> method is responsible for lowering the return instruction. It does this by iterating over the return values and creating a new <code dir="auto">SDNode</code> for each value. The <code dir="auto">SDNode</code> is then added to the DAG.</p>

<p>To get this method running, we need to implement the <code dir="auto">NovaTargetMachine</code> and <code dir="auto">NovaSubtarget</code> classes. These classes are responsible for providing information about the target architecture and the target machine.</p>
<h2 id="subtarget">Subtarget</h2>
<p>Some part of the subtarget class is generated by tablegen.</p>
 </div> <footer class="sl-flex astro-3yyafb3n"> <div class="meta sl-flex astro-3yyafb3n">   </div> <div class="pagination-links print:hidden astro-u2l5gyhi" dir="ltr"> <a href="/section-1/02-registers/" rel="prev" class="astro-u2l5gyhi"> <svg aria-hidden="true" class="astro-u2l5gyhi astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.5rem;"><path d="M17 11H9.41l3.3-3.29a1.004 1.004 0 1 0-1.42-1.42l-5 5a1 1 0 0 0-.21.33 1 1 0 0 0 0 .76 1 1 0 0 0 .21.33l5 5a1.002 1.002 0 0 0 1.639-.325 1 1 0 0 0-.219-1.095L9.41 13H17a1 1 0 0 0 0-2Z"/></svg>  <span class="astro-u2l5gyhi"> Previous <br class="astro-u2l5gyhi"> <span class="link-title astro-u2l5gyhi">Adding Registers</span> </span> </a> <a href="/section-1/testing/" rel="next" class="astro-u2l5gyhi"> <svg aria-hidden="true" class="astro-u2l5gyhi astro-c6vsoqas" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.5rem;"><path d="M17.92 11.62a1.001 1.001 0 0 0-.21-.33l-5-5a1.003 1.003 0 1 0-1.42 1.42l3.3 3.29H7a1 1 0 0 0 0 2h7.59l-3.3 3.29a1.002 1.002 0 0 0 .325 1.639 1 1 0 0 0 1.095-.219l5-5a1 1 0 0 0 .21-.33 1 1 0 0 0 0-.76Z"/></svg>  <span class="astro-u2l5gyhi"> Next <br class="astro-u2l5gyhi"> <span class="link-title astro-u2l5gyhi">The testing part</span> </span> </a> </div>   </footer>  </div> </div>   </main> </div> </div>  </div> </div>  </body></html>